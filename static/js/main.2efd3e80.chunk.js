(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},108:function(e,t,n){e.exports=n(295)},113:function(e,t,n){},115:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(102),o=n.n(c),s=(n(113),n(17)),u=n(22),i=n(24),l=n(23),p=n(25),E=n(103),f=n.n(E),m=(n(115),n(8)),h={FETCH:"POSTS_FETCH",FETCH_SUCCESS:"POSTS_FETCH_SUCCESS",FETCH_FAIL:"POSTS_FETCH_FAIL"},d={CREATE:"NEW_POST_CREATE",CREATE_SUCCESS:"NEW_POST_CREATE_SUCCESS",CREATE_FAIL:"NEW_POST_CREATE_FAIL"},b=function(e){return{type:h.FETCH_SUCCESS,posts:e}},v=function(e){return{type:h.FETCH_FAIL,error:e}},C=function(e){return{type:d.CREATE_SUCCESS,newPost:e}},S=function(e){return{type:d.CREATE_FAIL,error:e}},w=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"componentDidUpdate",value:function(e){if(console.log(e),e.newPost!==this.props.newPost){var t=this.props.newPost.newPost;this.props.posts.unshift(t)}}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.posts,r=e.newPost,c=e.error,o=n.map(function(e,t){return a.a.createElement("div",{key:"post"+e.id+t},a.a.createElement("h3",null,e.title),a.a.createElement("p",null,e.body))});return a.a.createElement("div",null,a.a.createElement("h1",null,"Posts"),Object.keys(r)>0?a.a.createElement("div",{key:r.id},a.a.createElement("h3",null,r.title),a.a.createElement("p",null,r.body)):null,o,c&&a.a.createElement("div",null,JSON.stringify(c)),t&&a.a.createElement("p",null,"Cargando..."))}}]),t}(r.Component),O=Object(m.connect)(function(e){return{isLoading:e.isLoading,posts:e.posts,newPost:e.newPost,error:e.error}},function(e){return{fetchPosts:function(){return e({type:h.FETCH})}}})(w),j=n(12),T=n(106),y=n(105),x=n(27),g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case h.FETCH:return!0;case h.FETCH_SUCCESS:case h.FETCH_FAIL:return!1;default:return e}},F=n(66),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.FETCH_SUCCESS:return[].concat(Object(F.a)(e),Object(F.a)(t.posts));default:return e}},_=n(107),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.CREATE_SUCCESS:return alert("Tu post a sido agregado"),Object(_.a)({},e,{newPost:t.newPost});default:return e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.FETCH_FAIL:case d.CREATE_FAIL:return t.error;case h.FETCH:case h.FETCH_SUCCESS:case d.CREATE:case d.CREATE_SUCCESS:return null;default:return e}},H=Object(j.combineReducers)({isLoading:g,posts:P,newPost:A,error:k,form:x.reducer}),R=n(6),N=n.n(R),L=n(7),U=n(65),I="https://jsonplaceholder.typicode.com/posts",W=new function e(){Object(s.a)(this,e),this.fetchPosts=Object(U.a)(N.a.mark(function e(){var t,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(I);case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,!(t.status>=400)){e.next=8;break}throw new Error(n.errors);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)})),this.fetchNewPost=function(){var e=Object(U.a)(N.a.mark(function e(t){var n,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(I,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!(n.status>=400)){e.next=8;break}throw new Error(r.errors);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},J=N.a.mark($),D=N.a.mark(q),M=N.a.mark(z),B=function(e){return e.form.contact.values};function $(){var e;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(L.b)(W.fetchPosts);case 3:return e=t.sent,t.next=6,Object(L.c)(b(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(L.c)(v(t.t0.toString()));case 12:case"end":return t.stop()}},J,this,[[0,8]])}function q(){var e,t;return N.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(L.d)(B);case 3:return e=n.sent,n.next=6,Object(L.b)(W.fetchNewPost,e);case 6:return t=n.sent,n.next=9,Object(L.c)(C(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(L.c)(S(n.t0.toString()));case 15:case"end":return n.stop()}},D,this,[[0,11]])}function z(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.e)(h.FETCH,$);case 2:return e.next=4,Object(L.f)(d.CREATE,q);case 4:case"end":return e.stop()}},M,this)}var G=N.a.mark(K);function K(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)([z()]);case 2:case"end":return e.stop()}},G,this)}var Q=Object(T.a)(),V=Object(j.createStore)(H,{},Object(y.composeWithDevTools)(Object(j.applyMiddleware)(Q)));Q.run(K);var X=function(e){var t=e.handleSubmit;return a.a.createElement("div",null,a.a.createElement("h1",null,"Hacer un nuevo post"),a.a.createElement("form",{onSubmit:t},a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"firstName"},"T\xedtulo:"),a.a.createElement("br",null),a.a.createElement(x.Field,{name:"title",component:"input",type:"text"})),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"lastName"},"Mensaje:"),a.a.createElement("br",null),a.a.createElement(x.Field,{name:"body",component:"textarea",type:"text"})),a.a.createElement("br",null),a.a.createElement("button",{type:"submit"},"Publicar")))},Y=X=Object(x.reduxForm)({form:"contact"})(X),Z=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).submit=function(e){n.props.createNewPost(e)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(Y,{onSubmit:this.submit}))}}]),t}(r.Component),ee=Object(m.connect)(null,function(e){return{createNewPost:function(){return e({type:d.CREATE})}}})(Z),te=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(m.Provider,{store:V},a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),a.a.createElement("p",null,"Ejercicio de pr\xe1ctica con React, Redux y Redux-Saga")),a.a.createElement(ee,null),a.a.createElement("hr",null),a.a.createElement(O,null)))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[108,2,1]]]);
//# sourceMappingURL=main.2efd3e80.chunk.js.map